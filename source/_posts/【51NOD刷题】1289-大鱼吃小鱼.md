---
title: 【51NOD刷题】1289 大鱼吃小鱼
tags:
  - 51NOD
  - 刷题
  - 'C#'
abbrlink: 28398
date: 2018-02-27 01:24:40
categories:
  - 算法刷题
---
[**1289 大鱼吃小鱼  **](http://www.51nod.com/onlineJudge/questionCode.html#!problemId=1289)
题目来源： [Codility](https://codility.com/)
基准时间限制：1 秒 空间限制：131072 KB 分值: 5 难度：1级算法题
有N条鱼每条鱼的位置及大小均不同，他们沿着X轴游动，有的向左，有的向右。游动的速度是一样的，两条鱼相遇大鱼会吃掉小鱼。从左到右给出每条鱼的大小和游动的方向（0表示向左，1表示向右）。问足够长的时间之后，能剩下多少条鱼？
<!--more-->
## 输入输出
**Input**
第1行：1个数N，表示鱼的数量(1 <= N <= 100000)。
第2 - N + 1行：每行两个数A[i], B[i]，中间用空格分隔，分别表示鱼的大小及游动的方向(1 <= A[i] <= 10^9，B[i] = 0 或 1，0表示向左，1表示向右）。
**Output**
输出1个数，表示最终剩下的鱼的数量。
**Input示例**
>5
4 0
3 1
2 0
1 0
5 0

**Output示例**
> 2

## 题目分析
本题目确切来讲有点不太严谨，比如每条鱼的起始位置、相同大小的鱼相遇后的情况就并未提供，这两个条件也会影响最终的结果。

我们按照从左到右依次摆放所有鱼、两条相同的鱼相遇后只会有一条胜出来计算，则可以使用Stack完美的解决这个问题。如果鱼向右走则入栈，如果鱼向左走则循环判断它和栈顶元素的大小关系，若比栈顶元素大，则移除元素继续循环，如果栈内无元素则记录左鱼幸存条数++并跳出循环，如果比栈顶元素小则直接跳出循环。最终统计栈内元素个数和左鱼幸存条数的和即为最终幸存的鱼的数量。

## Accepted
```csharp
using System;
using System.Collections.Generic;
using System.IO;

public class Sum
{
    public static void Main()
    {
        var sr = new StreamReader(Console.OpenStandardInput());
        var sw = new StreamWriter(Console.OpenStandardOutput());
        var count = Convert.ToInt32(sr.ReadLine());
        var leftFishs = new Stack<long>();
        var left = 0;
        for (var i = 0; i < count; i++)
        {
            var input = sr.ReadLine().Split(' ');
            var dx = Convert.ToInt64(input[0]);
            var fx = Convert.ToInt32(input[1]);
            if (fx == 1)
                leftFishs.Push(dx);
            else
                while (true)
                    if (leftFishs.Count > 0 && leftFishs.Peek() <= dx)
                        leftFishs.Pop();
                    else
                    {
                        if (leftFishs.Count == 0)
                            left++;
                        break;
                    }
        }


        sw.WriteLine(leftFishs.Count + left);
        sw.Flush();
        sr.Close();
        sw.Close();
    }
}
```